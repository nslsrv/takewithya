RESOURCES_LIBRARY()



IF (WINDOWS OR PERL_LIBRARY_PATH)
    ENABLE(USE_PERL_SYSTEM)
ENDIF()

IF (USE_PERL_SYSTEM)
    IF (OS_SDK STREQUAL "ubuntu-12")
        DECLARE_EXTERNAL_RESOURCE(SYSTEM_PERL sbr:337748278)
    ELSEIF (OS_SDK STREQUAL "ubuntu-14")
        DECLARE_EXTERNAL_RESOURCE(SYSTEM_PERL sbr:323263857)
    ELSEIF (OS_SDK STREQUAL "ubuntu-16")
        DECLARE_EXTERNAL_RESOURCE(SYSTEM_PERL sbr:323251590)
    ELSEIF (OS_SDK STREQUAL "ubuntu-18")
        DECLARE_EXTERNAL_RESOURCE(SYSTEM_PERL sbr:616700320)
    ENDIF()

    IF (PERL_INCLUDE)
        CFLAGS(GLOBAL $PERL_INCLUDE)
    ENDIF()

    CFLAGS(GLOBAL -I$PERL_ARCHLIB/CORE)

    IF (PERL_LIBS)
        LDFLAGS(-L${PERL_LIBS})
    ENDIF()

    IF (NOT OS_WINDOWS)
        LDFLAGS(-lperl)
    ELSE()
        LDFLAGS(perl.lib)
    ENDIF()

ELSE()
    PEERDIR(build/platform/perl/5.14.4)
ENDIF()

CFLAGS(GLOBAL -DUSE_PERL)

END()
